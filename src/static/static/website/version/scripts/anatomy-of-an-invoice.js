var InvoiceModel=function(){function o(){var e,t=document.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(void 0!==t.style[e])return o[e]}function i(){document.querySelectorAll(".intro")[0].classList.remove("hide-title"),document.querySelectorAll(".footer")[0].classList.add("visible"),document.querySelectorAll(".footer")[0].style.animationDelay="0s",document.querySelectorAll(".header")[0].classList.add("visible"),document.querySelectorAll(".header")[0].style.animationDelay="0s"}function n(e){var t=document.querySelectorAll(".main")[0],o=document.querySelectorAll(".perspective")[0];t.classList.remove("zoom-index"),document.querySelectorAll(".show-pop-up")[0].classList.remove("show-pop-up"),document.querySelectorAll(".back-icon")[0].classList.remove("enter-tooltip"),document.querySelectorAll(".back-icon")[0].classList.add("exit-tooltip"),i(),t.classList.remove("zoom-out"),t.removeAttribute("onclick"),document.querySelectorAll(".perspective .column")[0].classList.remove("position"),document.querySelectorAll(".perspective .column")[0].classList.remove("shadow"),o.classList.add("animate"),setTimeout(function(){o.classList.remove("index")},700)}function s(e){c=!0;var t=e.cloneNode(!0);t.style.left=e.offsetLeft-15+"px",t.style.top=e.parentElement.offsetTop-50+"px",t.removeAttribute("onmouseenter"),t.removeAttribute("onmouseleave"),t.classList.remove("hover"),t.setAttribute("onclick","InvoiceModel.reverseAnimation(this)"),e.classList.remove("hover");var o=document.querySelectorAll(".perspective")[0],l=document.querySelectorAll(".perspective .column")[0];l&&l.remove(),o.appendChild(t),o.classList.add("index"),document.querySelectorAll(".perspective .column")[0].classList.add("shadow"),o.classList.remove("animate"),document.querySelectorAll(".perspective .column")[0].classList.add("position"),document.querySelectorAll(".main")[0].classList.add("zoom-out"),setTimeout(function(){document.querySelectorAll(".zoom-out")[0].setAttribute("onclick","InvoiceModel.startPlayBack()"),document.querySelectorAll(".zoom-out")[0].classList.add("zoom-index")},500),document.querySelectorAll("."+e.getAttribute("id"))[0].style.top=document.querySelectorAll(".perspective .column")[0].offsetHeight+150+"px",document.querySelectorAll("."+e.getAttribute("id"))[0].classList.add("show-pop-up"),document.querySelectorAll(".hint")[0].classList.contains("enter-tooltip")&&document.querySelectorAll(".hint")[0].classList.add("exit-tooltip"),(e=document.querySelectorAll(".back-icon")[0]).classList.contains("exit-tooltip")&&e.classList.remove("exit-tooltip"),r||(r=!0,e.classList.add("enter-tooltip")),document.querySelectorAll(".intro")[0].classList.add("hide-title"),document.querySelectorAll(".footer")[0].classList.remove("visible"),document.querySelectorAll(".header")[0].classList.remove("visible")}var l=!1,c=!1,r=!1;return{startAnimation:function(){document.querySelectorAll("body")[0].classList.remove("hide-overflow");var o=document.querySelectorAll(".main")[0],l=document.querySelectorAll(".perspective")[0];document.querySelectorAll(".intro")[0].classList.add("translate-top"),setTimeout(function(){o.classList.add("initial"),o.classList.add("mouse-events"),l.classList.add("initial"),setTimeout(function(){o.classList.add("dim"),o.classList.add("animate"),l.classList.add("animate");for(var t=document.querySelectorAll(".column"),e=t.length-1;0<=e;e--)0==e?(t[e].style.animationDelay=.1*(t.length-e)+"s",t[e].classList.add("bounce")):(t[e].classList.add("slide"),t[e].style.animationDelay=.1*(t.length-e)+"s");document.querySelectorAll(".footer")[0].classList.add("visible"),document.querySelectorAll(".header")[0].classList.add("visible"),setTimeout(function(){for(var e=t.length-1;0<=e;e--)0==e?t[e].classList.remove("bounce"):t[e].classList.remove("slide");o.classList.remove("dim"),o.classList.remove("mouse-events"),o.classList.add("preserve-animation"),setTimeout(function(){c||(document.querySelectorAll(".hint")[0].classList.add("enter-tooltip"),setTimeout(function(){document.querySelectorAll(".hint")[0].classList.add("exit-tooltip")},5e3))},3e3),function(){for(var e=document.querySelectorAll(".main .column"),t=0;t<e.length;t++){var o=e[t];o.setAttribute("onmouseenter","InvoiceModel.dimBackground(this)"),o.setAttribute("onmouseleave","InvoiceModel.removeDimEffect(this)"),o.setAttribute("onclick","InvoiceModel.focusCard(this)")}for(var l=document.querySelectorAll(".display-next-card"),t=0;t<l.length;t++){var i=l[t];i.setAttribute("onmouseenter","InvoiceModel.hoverNextCard()"),i.setAttribute("onmouseleave","InvoiceModel.removeHoverCard()"),i.setAttribute("onclick","InvoiceModel.playAnimation()")}}()},2e3)},1e3)},600)},hoverNextCard:function(){var e=(e=document.querySelectorAll(".perspective .column")[0].getAttribute("id").split("-")[0]).slice(1);document.querySelectorAll(".main .column")[Number(e)].classList.add("hover")},removeHoverCard:function(){var e=(e=document.querySelectorAll(".perspective .column")[0].getAttribute("id").split("-")[0]).slice(1);document.querySelectorAll(".main .column")[Number(e)].classList.remove("hover")},playAnimation:function(){var e=document.querySelectorAll(".main")[0];e.classList.remove("zoom-index"),e.removeAttribute("onclick"),i();var t,o,l=document.querySelectorAll(".perspective .column")[0];null==l?(o=document.querySelectorAll(".main .column")[0],s(o)):(t=!1,e=(e=l.getAttribute("id").split("-")[0]).slice(1),(o=document.querySelectorAll(".main .column")[Number(e)]).classList.remove("hover"),null==l||l.parentElement.classList.contains("animate")||(n(),t=!0),null!=o&&t?setTimeout(function(){s(o)},700):null==o||t||s(o))},startPlayBack:function(){document.querySelectorAll(".main")[0].classList.remove("zoom-out");document.querySelectorAll(".perspective .column")[0];n()},focusCard:s,reverseAnimation:n,dimBackground:function(e){c=!(l=!1),e.classList.add("hover");var t=o();$(e).one(t,function(e){l=!0})},removeDimEffect:function(t){var e=o();$(t).one(e,function(e){t.classList.remove("hover")}),l&&t.classList.remove("hover")},keyDownTextField:function(e){13!=e.keyCode||document.querySelectorAll(".intro")[0].classList.contains("translate-top")||InvoiceModel.startAnimation()},triggerReverAnimation:function(){document.querySelectorAll(".perspective .column")[0];n()}}}();window.onload=function(){document.addEventListener("keydown",InvoiceModel.keyDownTextField,!1),document.querySelectorAll("#start-exploring")[0].addEventListener("click",function(e){InvoiceModel.startAnimation()})};